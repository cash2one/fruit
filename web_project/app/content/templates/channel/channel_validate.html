<script src="{{ STATIC_URL }}jquery-validate/jquery.validate.js"></script>
<script type="text/javascript">
$(function () {
        var validate_rules;
        var validate_form = function (form_selector, options) {
            var default_options = {
                errorPlacement: function (error, element) {
                    if (element.is(":checkbox")) {
                        return error.appendTo(element.next());
                    } else {
                        element.addClass('error');
                        error.css({"padding-left": "0", "color": "red", "display": "inline"});
                        return error.appendTo(element.parent());
                    }
                },
                submitHandler: function (form) {
                    return form.submit();
                },
                success: function (label) {
                    return label.html("&nbsp;").addClass("checked");
                },
                highlight: function (element, errorClass) {
                    return $(element).parent().find("." + errorClass).removeClass("checked");
                }
            };
            options = $.extend(default_options, options);
            return $(form_selector).validate(options);
        };
        $.validator.addMethod("notZero", function(value, element, params) {
                return value!=0;
            }, $.validator.format("请选择Cid"));
        validate_rules = {
            'title': {
                'required': true
            },
            'cid': {
                'digits': true,
                'required': true,
                'notZero': true
            },
            'channel_id' :{
                'required': true
            }
        };
        validate_form('form#create_cha', {
                    rules: validate_rules
                }
        );
    });
</script>